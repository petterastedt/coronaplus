(this.webpackJsonpcorona=this.webpackJsonpcorona||[]).push([[0],{11:function(e,t,a){e.exports=a(28)},16:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(9),c=a.n(n),l=(a(16),a(5)),i=a(1),o=a.n(i),m=a(6),d=a(4),h=a(7),u=a.n(h),v=function(){return s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"headerWrapper"},s.a.createElement("h1",{className:"header-title"},"CORONA",s.a.createElement("span",null,"+"))))},f=function(e){var t=function(e,t){switch(t){case"sortByNonCritical":return e.slice().sort((function(e,t){return e.nonCriticalPercent<t.nonCriticalPercent?1:-1}));case"sortByName":return e.slice().sort((function(e,t){return e.country>t.country?1:-1}));case"sortByCases":return e.slice().sort((function(e,t){return e.cases<t.cases?1:-1}));case"sortByRecovered":default:return e.slice().sort((function(e,t){return e.recoveredPercent<t.recoveredPercent?1:-1}))}};return s.a.createElement("div",{className:"filter"},s.a.createElement("div",{className:"filter-checkbox"},s.a.createElement("input",{type:"checkbox",defaultChecked:!1,onChange:function(){e.hide(!e.hideDeaths)}}),s.a.createElement("span",null,"Show deaths")),s.a.createElement("div",{className:"filterListWrapper"},s.a.createElement("div",{className:"filterCategoriesWrapper"},s.a.createElement("span",{className:"filterList-label"},"Sort by: "),s.a.createElement("ul",{className:"filterList resetList"},s.a.createElement("li",{className:"filterList-item ".concat(e.activeFilter.first?"filterList-item--active":""),onClick:function(){var a=t(e.countriesState,"sortByRecovered");e.sortCountriesData(a),e.setFilter({first:!0,second:!1,third:!1,fourth:!1})}},"Recovered"),s.a.createElement("li",{className:"filterList-item ".concat(e.activeFilter.second?"filterList-item--active":""),onClick:function(){var a=t(e.countriesState,"sortByNonCritical");e.sortCountriesData(a),e.setFilter({first:!1,second:!0,third:!1,fourth:!1})}},"Mild cases"),s.a.createElement("li",{className:"filterList-item ".concat(e.activeFilter.third?"filterList-item--active":""),onClick:function(){var a=t(e.countriesState,"sortByName");e.sortCountriesData(a),e.setFilter({first:!1,second:!1,third:!0,fourth:!1})}},"Country"),s.a.createElement("li",{className:"filterList-item ".concat(e.activeFilter.fourth?"filterList-item--active":""),onClick:function(){var a=t(e.countriesState,"sortByCases");e.sortCountriesData(a),e.setFilter({first:!1,second:!1,third:!1,fourth:!0})}},"Total cases"))),s.a.createElement("span",{className:"filterList-subtitle"},"Only showing countries with over ",e.threshold," cases")))},g=function(e){return s.a.createElement("li",{className:"listItem"},s.a.createElement("div",{className:"listItem-titleWrapper"},s.a.createElement("div",{className:"listItem-title"},s.a.createElement("span",{className:"listItem-flag"},s.a.createElement("img",{src:e.itemData.countryInfo.flag,alt:"Flag of ".concat(e.itemData.country),title:"Flag of ".concat(e.itemData.country),key:e.i,className:"listItem-flag"})),s.a.createElement("h2",{className:"listItem-countryname"},e.itemData.country)),s.a.createElement("div",{className:"listItem-alertWrapper"},0===e.itemData.todayDeaths&&0===e.itemData.todayCases&&s.a.createElement("div",{className:"listItem-noData highlighted highlightTag"},"No new data since yesterday"),0===e.itemData.todayDeaths&&e.itemData.todayCases>0&&s.a.createElement("div",{className:"listItem-noDeaths highlighted highlightTag"},"No reported deaths today!"),e.itemData.daysWithoutDeaths>1&&e.itemData.daysWithoutDeaths<7&&0===e.itemData.todayDeaths?s.a.createElement("div",{className:"listItem-noDeaths highlighted highlightTag"},"No reported deaths the past ",e.itemData.daysWithoutDeaths," days!"):e.itemData.daysWithoutDeaths>6&&0===e.itemData.todayDeaths?s.a.createElement("div",{className:"listItem-noDeaths highlighted highlightTag"},"No reported deaths in 7+ days!"):"")),s.a.createElement("ul",{className:"listItem-stats resetList"},s.a.createElement("li",{className:"recovered listItem-statsItem"},s.a.createElement("span",{className:"title ".concat(!0===e.activeFilter.first?"listItem--filterIsActive":"")},"Recovered:"),s.a.createElement("div",{className:"listItem-recoveredWrapper"},s.a.createElement("span",{className:"percent ".concat(!0===e.activeFilter.first?"highlighted":"")},e.itemData.recoveredPercent.toFixed(2),"%"),e.itemData.recoveredPercent>e.itemData.recoveredYesterday?s.a.createElement("div",{className:"highlighted plus",title:"Percent of recovered increased since yesterday"},"\u2191"):e.itemData.recoveredPercent===e.itemData.recoveredYesterday?s.a.createElement("div",{className:"highlighted equal",title:"No change since yesterday"},"-"):s.a.createElement("div",{className:"highlighted minus",title:"Percent of recovered decreased since yesterday"},"\u2193"),s.a.createElement("span",null,"(",e.itemData.recovered.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,","),")"))),s.a.createElement("li",{className:"nonCritical listItem-statsItem"},s.a.createElement("span",{className:"title ".concat(!0===e.activeFilter.second?"listItem--filterIsActive":"")},"Mild cases:"),s.a.createElement("span",{className:"".concat(!0===e.activeFilter.second?"highlighted":"")},e.itemData.nonCriticalPercent.toFixed(2),"%")),s.a.createElement("li",{className:"active listItem-statsItem"},s.a.createElement("span",{className:"title"},"Active cases:"),e.itemData.active.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,",")),s.a.createElement("li",{className:"cases listItem-statsItem"},s.a.createElement("span",{className:"title ".concat(!0===e.activeFilter.fourth?"listItem--filterIsActive":"")},"Total cases:"),s.a.createElement("span",{className:"".concat(!0===e.activeFilter.fourth?"listItem--filterIsActive":"")},e.itemData.cases.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,","))),!e.hideDeaths&&s.a.createElement("li",{className:"deaths listItem-statsItem"},s.a.createElement("span",{className:"title"},"Total deaths:"),s.a.createElement("span",{className:"deaths-number"},e.itemData.deaths.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,",")))))},p=a(10),E=a.n(p),D=function(){return s.a.createElement("div",{className:"loading"},"Loading..")},N=function(e){return s.a.createElement("div",{className:"globalStats componentSpacing"},s.a.createElement("div",{className:"globalStatsTextWrapper"},s.a.createElement("div",{className:"globalStats-total"},s.a.createElement("strong",null,"Total cases: "),e.globalData?s.a.createElement("span",null,e.globalData.cases.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,",")):s.a.createElement(D,null)),s.a.createElement("div",{className:"globalStats-recovered highlighted"},s.a.createElement("strong",null,"Recovered: "),e.globalData?s.a.createElement("span",null,e.globalData.recovered.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,",")):s.a.createElement(D,null),e.globalData&&s.a.createElement("span",{className:"highlighted globalStats-recoveredNumber"},"(",s.a.createElement(E.a,{end:e.globalData.recoveredPercent,separator:",",suffix:"%",delay:.3,decimals:2,duration:3.2}),")")),!e.hideDeaths&&s.a.createElement("div",{className:"globalStats-deaths"},s.a.createElement("strong",null,"Deaths: "),s.a.createElement("span",null,e.globalData.deaths.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,","))),s.a.createElement("div",{className:"globalStats-updated"},s.a.createElement("strong",null,"Updated: "),e.globalData?s.a.createElement("span",null,e.globalData.updated):s.a.createElement(D,null))))},y=function(e){return s.a.createElement("div",{className:"statsSummary componentSpacing"},s.a.createElement("div",{className:"statsSummary-title"},"Summary"),s.a.createElement("ul",{className:"statsSummary-list"},s.a.createElement("li",{className:"statsSummary-item"},s.a.createElement("strong",{className:"country"},e.globalData.mostRecovered[0].country),"has the highest amount of recovered patients ",s.a.createElement("span",{className:"highlighted"},"(",e.globalData.mostRecovered[0].recoveredPercent.toFixed(),"%)"),", followed by",s.a.createElement("strong",null,e.globalData.mostRecovered[1].country),s.a.createElement("span",{className:"highlighted"},"(",e.globalData.mostRecovered[1].recoveredPercent.toFixed(),"%)"),"and",s.a.createElement("strong",null,e.globalData.mostRecovered[2].country),s.a.createElement("span",{className:"highlighted"},"(",e.globalData.mostRecovered[2].recoveredPercent.toFixed(),"%)")),e.globalData.noDeaths&&s.a.createElement("li",{className:"statsSummary-item"},e.globalData.noDeaths.map((function(t,a){return s.a.createElement("span",{className:"highlighted",key:a},t.country,0===a&&2===e.globalData.noDeaths.length&&" and ",0===a&&e.globalData.noDeaths.length>2&&", "," ",1===a&&e.globalData.noDeaths.length>2&&" and ")})).slice(0,3),e.globalData.noDeaths.length>3&&"are some of the countries that"," have had ",s.a.createElement("strong",null,"multiple days")," without any reported deaths."),s.a.createElement("li",{className:"statsSummary-item"},"In ",s.a.createElement("span",{className:"highlighted"},e.globalData.criticalLessThanFive.toFixed(),"%"),"of the countries with active cases, ",s.a.createElement("span",{className:"highlighted"},"less than 5% of them are critical."),"*"),e.globalData.recoveredMostDifference.country&&s.a.createElement("li",{className:"statsSummary-item"},s.a.createElement("strong",{className:"country"},e.globalData.recoveredMostDifference.country),"has the highest increase in recoveries from the past day with ",s.a.createElement("span",{className:"highlighted"},"+",e.globalData.recoveredMostDifference.recoveredDifference.toFixed(),"%"),"*")),s.a.createElement("div",{className:"listNotice"},"*Based on countries with at least ",e.threshold," reported cases"))},b=function(){return s.a.createElement("div",{className:"footer componentSpacing"},"Created by ",s.a.createElement("a",{href:"https://www.petterastedt.com/",target:"_blank",alt:"Link to portifolio website",rel:"noopener noreferrer"},"Petter \xc5stedt"),". See the code on ",s.a.createElement("a",{href:"https://github.com/petterastedt/",target:"_blank",alt:"Link to Github",rel:"noopener noreferrer"},"Github"),".")},I=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),i=Object(d.a)(c,2),h=i[0],p=i[1],E=Object(r.useState)(!0),D=Object(d.a)(E,2),I=D[0],F=D[1],S=Object(r.useState)({first:!0}),C=Object(d.a)(S,2),P=C[0],w=C[1];Object(r.useEffect)((function(){Object(m.a)(o.a.mark((function e(){var t,a,r,s,c,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.getCountry({sort:"cases"});case 2:return t=e.sent,a=B(t),e.next=6,O(a);case 6:return r=e.sent,s=j(r),c=k(a,s,r),p(c.slice().sort((function(e,t){return e.recoveredPercent<t.recoveredPercent?1:-1}))),e.next=12,u.a.getAll();case 12:l=e.sent,i=L(l,c),n(i);case 15:case"end":return e.stop()}}),e)})))()}),[]);var x=function(e,t,a){return e/(t-a)*100},O=function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],"https://corona.lmao.ninja/v2/historical/",t.map((function(e){return a.push(fetch("".concat("https://corona.lmao.ninja/v2/historical/").concat(e.country)).then((function(e){return e.json()})))})),e.next=5,Promise.all(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=[];return e.forEach((function(e){var a=[];for(var r in e.timeline.deaths)e.timeline.deaths.hasOwnProperty(r)&&a.push(e.timeline.deaths[r]);t.push(a.slice(a.length-7))})),t},k=function(e,t,a){var r=[];return e.forEach((function(e,s){var n,c,i=0;t[s].reverse().forEach((function(e,a){e===t[s][0]&&0!==a&&e!==t[s][a+1]&&(i=a+1)})),a.forEach((function(t){if(e.country.toUpperCase()===t.country.toUpperCase()){var a=Object.values(t.timeline.deaths)[Object.values(t.timeline.deaths).length-1],r=Object.values(t.timeline.cases)[Object.values(t.timeline.cases).length-1],s=Object.values(t.timeline.recovered)[Object.values(t.timeline.recovered).length-1];n=x(s,r,a),c=Math.abs(e.recoveredPercent-n)}}));var o=Object(l.a)({},e,{historicalData:t[s],daysWithoutDeaths:i,recoveredYesterday:n,recoveredDifference:c});r.push(o)})),r},L=function(e,t){var a=new Date(e.updated).toLocaleString("sv-SE"),r=x(e.recovered,e.cases,e.deaths),s=t.sort((function(e,t){return t.recoveredPercent-e.recoveredPercent})).slice(0,3),n=t.filter((function(e){return e.daysWithoutDeaths>0&&0===e.todayDeaths})),c=t.filter((function(e){return e.nonCriticalPercent>95})).length/t.length*100,i=t.filter((function(e){return e.recoveredYesterday>0&&e.recoveredYesterday!==e.recoveredPercent})).sort((function(e,t){return t.recoveredDifference-e.recoveredDifference}))[0];return Object(l.a)({},e,{recoveredPercent:r,updated:a,mostRecovered:s,noDeaths:n,criticalLessThanFive:c,recoveredMostDifference:i})},B=function(e){var t=[];return e.forEach((function(e){if(e.cases>1e3){var a=x(e.recovered,e.cases,e.deaths),r=x(e.critical,e.cases,e.deaths),s=100-r,n=x(e.active,e.cases,e.deaths),c=Object(l.a)({},e,{recoveredPercent:a,criticalPercent:r,nonCriticalPercent:s,activePercent:n});t.push(c)}})),t};return s.a.createElement("div",{className:"container"},s.a.createElement(v,null),s.a.createElement(N,{countriesData:h,hideDeaths:I,globalData:a}),a&&s.a.createElement(y,{globalData:a,threshold:1e3}),h&&s.a.createElement(f,{countriesState:h,hide:function(e){return F(e)},hideDeaths:I,setFilter:function(e){return w(e)},sortCountriesData:function(e){return p(e)},activeFilter:P,threshold:1e3}),h&&s.a.createElement("ul",{className:"list resetList componentSpacing"}," ",h.map((function(e,t){return s.a.createElement(g,{itemData:e,activeFilter:P,hideDeaths:I,key:t})}))," "),s.a.createElement("div",{className:"listNotice"},s.a.createElement("a",{href:"https://github.com/NovelCOVID/API",target:"_blank",alt:"Link to Github",rel:"noopener noreferrer"},"Data sources")),s.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.09740dc1.chunk.js.map