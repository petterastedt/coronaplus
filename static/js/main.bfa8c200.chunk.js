(this.webpackJsonpcorona=this.webpackJsonpcorona||[]).push([[0],{11:function(e,t,a){e.exports=a(28)},16:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(9),s=a.n(c),l=(a(16),a(5)),i=a(1),o=a.n(i),m=a(6),d=a(4),u=a(7),h=a.n(u),v=function(){return n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"headerWrapper"},n.a.createElement("h1",{className:"header-title"},"CORONA",n.a.createElement("span",null,"+"))))},f=function(e){var t=function(e,t){switch(t){case"sortByNonCritical":return e.slice().sort((function(e,t){return e.nonCriticalPercent<t.nonCriticalPercent?1:-1}));case"sortByName":return e.slice().sort((function(e,t){return e.country>t.country?1:-1}));case"sortByCases":return e.slice().sort((function(e,t){return e.cases<t.cases?1:-1}));case"sortByRecovered":default:return e.slice().sort((function(e,t){return e.recoveredPercent<t.recoveredPercent?1:-1}))}};return n.a.createElement("div",{className:"filter"},n.a.createElement("div",{className:"filter-checkbox"},n.a.createElement("input",{type:"checkbox",defaultChecked:!1,onChange:function(){e.hide(!e.hideDeaths)}}),n.a.createElement("span",null,"Show deaths")),n.a.createElement("div",{className:"filterListWrapper"},n.a.createElement("div",{className:"filterCategoriesWrapper"},n.a.createElement("span",{className:"filterList-label"},"Sort by: "),n.a.createElement("ul",{className:"filterList resetList"},n.a.createElement("li",{className:"filterList-item ".concat(e.activeFilter.first?"filterList-item--active":""),onClick:function(){var a=t(e.countriesState,"sortByRecovered");e.sortCountriesData(a),e.setFilter({first:!0,second:!1,third:!1,fourth:!1})}},"Recovered"),n.a.createElement("li",{className:"filterList-item ".concat(e.activeFilter.second?"filterList-item--active":""),onClick:function(){var a=t(e.countriesState,"sortByNonCritical");e.sortCountriesData(a),e.setFilter({first:!1,second:!0,third:!1,fourth:!1})}},"Mild cases"),n.a.createElement("li",{className:"filterList-item ".concat(e.activeFilter.third?"filterList-item--active":""),onClick:function(){var a=t(e.countriesState,"sortByName");e.sortCountriesData(a),e.setFilter({first:!1,second:!1,third:!0,fourth:!1})}},"Country"),n.a.createElement("li",{className:"filterList-item ".concat(e.activeFilter.fourth?"filterList-item--active":""),onClick:function(){var a=t(e.countriesState,"sortByCases");e.sortCountriesData(a),e.setFilter({first:!1,second:!1,third:!1,fourth:!0})}},"Total cases"))),n.a.createElement("span",{className:"filterList-subtitle"},"Only showing countries with over 1000 cases")))},g=function(e){return n.a.createElement("li",{className:"listItem"},n.a.createElement("div",{className:"listItem-titleWrapper"},n.a.createElement("div",{className:"listItem-title"},n.a.createElement("span",{className:"listItem-flag"},n.a.createElement("img",{src:e.itemData.countryInfo.flag,alt:"Flag of ".concat(e.itemData.country),title:"Flag of ".concat(e.itemData.country),key:e.i,className:"listItem-flag"})),n.a.createElement("h2",{className:"listItem-countryname"},e.itemData.country)),n.a.createElement("div",{className:"listItem-alertWrapper"},0===e.itemData.todayDeaths&&0===e.itemData.todayCases&&n.a.createElement("div",{className:"listItem-noData highlighted highlightTag"},"No new data since yesterday"),0===e.itemData.todayDeaths&&e.itemData.todayCases>0&&n.a.createElement("div",{className:"listItem-noDeaths highlighted highlightTag"},"No reported deaths today!"),e.itemData.daysWithoutDeaths>1&&0===e.itemData.todayDeaths&&n.a.createElement("div",{className:"listItem-noDeaths highlighted highlightTag"},"No reported deaths the past ",e.itemData.daysWithoutDeaths," days!"))),n.a.createElement("ul",{className:"listItem-stats resetList"},n.a.createElement("li",{className:"recovered listItem-statsItem"},n.a.createElement("span",{className:"title ".concat(!0===e.activeFilter.first?"listItem--filterIsActive":"")},"Recovered:"),n.a.createElement("div",{className:"listItem-recoveredWrapper"},n.a.createElement("span",{className:"percent ".concat(!0===e.activeFilter.first?"highlighted":"")},e.itemData.recoveredPercent.toFixed(2),"%"),e.itemData.recoveredPercent>e.itemData.recoveredYesterday?n.a.createElement("div",{className:"highlighted plus",title:"Percent of recovered increased since yesterday"},"\u2191"):e.itemData.recoveredPercent===e.itemData.recoveredYesterday?n.a.createElement("div",{className:"highlighted equal",title:"No change since yesterday"},"-"):n.a.createElement("div",{className:"highlighted minus",title:"Percent of recovered decreased since yesterday"},"\u2193"),n.a.createElement("span",null,"(",e.itemData.recovered.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,","),")"))),n.a.createElement("li",{className:"nonCritical listItem-statsItem"},n.a.createElement("span",{className:"title ".concat(!0===e.activeFilter.second?"listItem--filterIsActive":"")},"Mild cases:"),n.a.createElement("span",{className:"".concat(!0===e.activeFilter.second?"highlighted":"")},e.itemData.nonCriticalPercent.toFixed(2),"%")),n.a.createElement("li",{className:"active listItem-statsItem"},n.a.createElement("span",{className:"title"},"Active cases:"),e.itemData.active.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,",")),n.a.createElement("li",{className:"cases listItem-statsItem"},n.a.createElement("span",{className:"title ".concat(!0===e.activeFilter.fourth?"listItem--filterIsActive":"")},"Total cases:"),n.a.createElement("span",{className:"".concat(!0===e.activeFilter.fourth?"listItem--filterIsActive":"")},e.itemData.cases.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,","))),!e.hideDeaths&&n.a.createElement("li",{className:"deaths listItem-statsItem"},n.a.createElement("span",{className:"title"},"Total deaths:"),n.a.createElement("span",{className:"deaths-number"},e.itemData.deaths.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,",")))))},p=a(10),E=a.n(p),D=function(){return n.a.createElement("div",{className:"loading"},"Loading..")},N=function(e){return n.a.createElement("div",{className:"globalStats componentSpacing"},n.a.createElement("div",{className:"globalStatsTextWrapper"},n.a.createElement("div",{className:"globalStats-total"},n.a.createElement("strong",null,"Total cases: "),e.globalData?n.a.createElement("span",null,e.globalData.cases.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,",")):n.a.createElement(D,null)),n.a.createElement("div",{className:"globalStats-recovered highlighted"},n.a.createElement("strong",null,"Recovered: "),e.globalData?n.a.createElement("span",null,e.globalData.recovered.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,",")):n.a.createElement(D,null),e.globalData&&n.a.createElement("span",{className:"highlighted globalStats-recoveredNumber"},"(",n.a.createElement(E.a,{end:e.globalData.recoveredPercent,separator:",",suffix:"%",delay:.3,decimals:2,duration:3.2}),")")),!e.hideDeaths&&n.a.createElement("div",{className:"globalStats-deaths"},n.a.createElement("strong",null,"Deaths: "),n.a.createElement("span",null,e.globalData.deaths.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,","))),n.a.createElement("div",{className:"globalStats-updated"},n.a.createElement("strong",null,"Updated: "),e.globalData?n.a.createElement("span",null,e.globalData.updated):n.a.createElement(D,null))))},y=function(e){return n.a.createElement("div",{className:"statsSummary componentSpacing"},n.a.createElement("div",{className:"statsSummary-title"},"Summary"),n.a.createElement("ul",{className:"statsSummary-list"},n.a.createElement("li",{className:"statsSummary-item"},n.a.createElement("strong",{className:"country"},e.globalData.mostRecovered[0].country),"has the highest amount of recovered patients ",n.a.createElement("span",{className:"highlighted"},"(",e.globalData.mostRecovered[0].recoveredPercent.toFixed(),"%)"),", followed by",n.a.createElement("strong",null,e.globalData.mostRecovered[1].country),n.a.createElement("span",{className:"highlighted"},"(",e.globalData.mostRecovered[1].recoveredPercent.toFixed(),"%)"),"and",n.a.createElement("strong",null,e.globalData.mostRecovered[2].country),n.a.createElement("span",{className:"highlighted"},"(",e.globalData.mostRecovered[2].recoveredPercent.toFixed(),"%)")),e.globalData.noDeaths&&n.a.createElement("li",{className:"statsSummary-item"},e.globalData.noDeaths.map((function(t,a){return n.a.createElement("span",{className:"highlighted",key:a},t.country,0===a&&2===e.globalData.noDeaths.length&&" and ",0===a&&e.globalData.noDeaths.length>2&&", "," ",1===a&&e.globalData.noDeaths.length>2&&" and ")})).slice(0,3),e.globalData.noDeaths.length>3&&"are some of the countries that"," have had ",n.a.createElement("strong",null,"multiple days")," without any reported deaths."),n.a.createElement("li",{className:"statsSummary-item"},"In ",n.a.createElement("span",{className:"highlighted"},e.globalData.criticalLessThanFive.toFixed(),"%"),"of the countries with active cases, ",n.a.createElement("span",{className:"highlighted"},"less than 5% of them are critical."),"*"),e.globalData.recoveredMostDifference.country&&n.a.createElement("li",{className:"statsSummary-item"},n.a.createElement("strong",{className:"country"},e.globalData.recoveredMostDifference.country),"has the highest increase in recoveries from the past day with ",n.a.createElement("span",{className:"highlighted"},"+",e.globalData.recoveredMostDifference.recoveredDifference.toFixed(),"%"),"*")),n.a.createElement("div",{className:"listNotice"},"*Based on countries with at least 1000 reported cases"))},b=function(){return n.a.createElement("div",{className:"footer componentSpacing"},"Created by ",n.a.createElement("a",{href:"https://www.petterastedt.com/",target:"_blank",alt:"Link to portifolio website",rel:"noopener noreferrer"},"Petter \xc5stedt"),". See the code on ",n.a.createElement("a",{href:"https://github.com/petterastedt/",target:"_blank",alt:"Link to Github",rel:"noopener noreferrer"},"Github"),".")},F=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([]),i=Object(d.a)(s,2),u=i[0],p=i[1],E=Object(r.useState)(!0),D=Object(d.a)(E,2),F=D[0],I=D[1],S=Object(r.useState)({first:!0}),C=Object(d.a)(S,2),P=C[0],w=C[1];Object(r.useEffect)((function(){(function(){var e=Object(m.a)(o.a.mark((function e(){var t,a,r,n,s,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.getCountry({sort:"cases"});case 2:return t=e.sent,a=L(t),e.next=6,x(a);case 6:return r=e.sent,n=O(r),s=j(a,n,r),p(s.slice().sort((function(e,t){return e.recoveredPercent<t.recoveredPercent?1:-1}))),e.next=12,h.a.getAll();case 12:l=e.sent,i=k(l,s),c(i);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var x=function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t.map((function(e){return a.push(fetch("".concat("https://corona.lmao.ninja/v2/historical/").concat(e.country)).then((function(e){return e.json()})))})),e.next=4,Promise.all(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=[];return e.forEach((function(e){var a=[];for(var r in e.timeline.deaths)e.timeline.deaths.hasOwnProperty(r)&&a.push(e.timeline.deaths[r]);t.push(a.slice(a.length-7))})),t},j=function(e,t,a){var r=[];return e.forEach((function(e,n){var c,s,i=0;t[n].reverse().forEach((function(e,a){e===t[n][0]&&0!==a&&e!==t[n][a+1]&&(i=a+1)})),a.forEach((function(t){if(e.country.toUpperCase()===t.country.toUpperCase()){var a=Object.values(t.timeline.deaths)[Object.values(t.timeline.deaths).length-1],r=Object.values(t.timeline.cases)[Object.values(t.timeline.cases).length-1],n=Object.values(t.timeline.recovered)[Object.values(t.timeline.recovered).length-1];c=n/(r-a)*100,s=Math.abs(e.recoveredPercent-c)}}));var o=Object(l.a)({},e,{historicalData:t[n],daysWithoutDeaths:i,recoveredYesterday:c,recoveredDifference:s});r.push(o)})),r},k=function(e,t){var a=new Date(e.updated).toLocaleString("sv-SE"),r=e.recovered/(e.cases-e.deaths)*100,n=t.sort((function(e,t){return t.recoveredPercent-e.recoveredPercent})).slice(0,3),c=t.filter((function(e){return e.daysWithoutDeaths>0&&0===e.todayDeaths})),s=t.filter((function(e){return e.nonCriticalPercent>95})).length/t.length*100,i=t.filter((function(e){return e.recoveredYesterday>0&&e.recoveredYesterday!==e.recoveredPercent})).sort((function(e,t){return t.recoveredDifference-e.recoveredDifference}))[0];return Object(l.a)({},e,{recoveredPercent:r,updated:a,mostRecovered:n,noDeaths:c,criticalLessThanFive:s,recoveredMostDifference:i})},L=function(e){var t=[];return e.forEach((function(e){if(e.cases>999){var a=e.recovered/(e.cases-e.deaths)*100,r=e.critical/(e.cases-e.deaths)*100,n=100-r,c=e.active/(e.cases-e.deaths)*100,s=Object(l.a)({},e,{recoveredPercent:a,criticalPercent:r,nonCriticalPercent:n,activePercent:c});t.push(s)}})),t};return n.a.createElement("div",{className:"container"},n.a.createElement(v,null),n.a.createElement(N,{countriesData:u,hideDeaths:F,globalData:a}),a&&n.a.createElement(y,{globalData:a}),u&&n.a.createElement(f,{countriesState:u,hide:function(e){return I(e)},hideDeaths:F,setFilter:function(e){return w(e)},sortCountriesData:function(e){return p(e)},activeFilter:P}),u&&n.a.createElement("ul",{className:"list resetList componentSpacing"}," ",u.map((function(e,t){return n.a.createElement(g,{itemData:e,activeFilter:P,hideDeaths:F,key:t})}))," "),n.a.createElement("div",{className:"listNotice"},n.a.createElement("a",{href:"https://github.com/NovelCOVID/API",target:"_blank",alt:"Link to Github",rel:"noopener noreferrer"},"Data sources")),n.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.bfa8c200.chunk.js.map